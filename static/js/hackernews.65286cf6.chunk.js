(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{524:function(e,t,n){"use strict";n.r(t);var r=n(525),a=n.n(r),c=n(527),E=n.n(c),o=n(531),j=n.n(o),v=n(2),N=n.n(v),P=n(125),k=n(535);var i=n(539),s=n.n(i);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(a){return{get:function(e,t){return s()(a+e,t).then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})},getHnAPI:function(e,t){return s()(e,t).then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})},post:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};return s()(a+e,l({},r,{method:"POST",body:JSON.stringify(t),headers:l({"Content-Type":"application/json"},r.headers)})).then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})}}}function m(e){return{news:function(n){return{all:function(e){return n.get("?tags=story&page=".concat(e))},create:function(e,t){return n.post("/api/hn",e)}}}(e)}}function D(e){return N.a.createElement("tr",null,N.a.createElement("th",null,"Comments"),N.a.createElement("th",null,"Vote Count"),N.a.createElement("th",null,"Up Vote"),N.a.createElement("th",null,"News Details"))}var f=p("http://localhost:3000"),h=p("https://hn.algolia.com/api/v1/search_by_date"),x=(m(f),m(h)),C=n(178);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function w(e){var t=Object(C.b)(function(e){return e.news||[]}),n=Object(v.useState)([t]),r=j()(n,2),a=r[0],c=r[1],o=Object(v.useState)(t.hits),i=j()(o,2),s=i[0],u=i[1],l=Object(v.useState)(!1),p=j()(l,2),m=p[0],f=p[1],h=e.match.params&&e.match.params.id?Number(e.match.params.id):1,b=h+1,w=1<h?h-1:1;function O(t){u([]),f(!0),a.map(function(e){Number(e.page)===t?(u(e.hits),f(!1)):x.news.all(t).then(function(e){0<e.hits.length&&(c([].concat(E()(a),[S({},e)])),u(e.hits),f(!1))})})}var g=[];s&&g.push(s.map(function(e){return[e.objectID?e.objectID:"N/A",e.points]}));var y=N.a.useMemo(function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]},[]),d=N.a.createElement("div",{style:{width:"100%",height:"300px"}},N.a.createElement(k.Chart,{data:g,axes:y}));return N.a.createElement("div",{className:"hacker-news"},N.a.createElement("h1",{className:"hn-title"},"Hacker news page"),N.a.createElement("table",null,N.a.createElement("thead",null,N.a.createElement(D,null)),N.a.createElement("tbody",null,m?N.a.createElement("h3",{className:"text-center"},"Loading..."):null,s&&s.map(function(e,t){if(!e.hide)return N.a.createElement("tr",{key:t},N.a.createElement("td",{className:"text-center"},e.num_comments?e.num_comments:0),N.a.createElement("td",{className:"text-center"},e.points?e.points:0),N.a.createElement("td",{onClick:function(){!function(t){var n=[];s.map(function(e){e.objectID===t?n.push(S({},e,{points:e.points?Number(e.points)+1:1})):n.push(e)}),u(n)}(e.objectID)}},N.a.createElement("img",{width:"10px",className:"upvote",src:function(e){return"".concat("","/images/").concat(e)}("arrow-up.png"),alt:"Up Vote"})),N.a.createElement("td",null,e._highlightResult.title.value,N.a.createElement("span",{className:"url-link"},"  ( ".concat(e.url&&function(e){return new URL(e).origin}(e.url)," ) By ").concat(e.author," ")),N.a.createElement("span",{class:"hide",onClick:function(){!function(t){var n=[];s.map(function(e){e.objectID===t?n.push(S({},e,{hide:!0})):n.push(e)}),u(n)}(e.objectID)}},"[ hide ]")))}))),N.a.createElement("nav",{className:"navigation","aria-label":"navigation"},N.a.createElement(P.b,{exact:!0,to:"/HackerNews/".concat(w),onClick:function(){O(w)},activeClassName:"active"},"Previous")," ",N.a.createElement(P.b,{exact:!0,to:"/HackerNews/".concat(b),onClick:function(){O(b)},activeClassName:"active"},"Next")),N.a.createElement("div",{className:"line-chart"},d))}w.fetchData=function(){return x.news.all(1).then(function(e){return{news:e}})};t.default=w}}]);
//# sourceMappingURL=hackernews.65286cf6.chunk.js.map